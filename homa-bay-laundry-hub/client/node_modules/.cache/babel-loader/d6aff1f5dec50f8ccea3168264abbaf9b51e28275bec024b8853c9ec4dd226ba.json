{"ast":null,"code":"var _jsxFileName = \"/home/user/PROJECTS/Landry Hub/homa-bay-laundry-hub/client/src/components/ProviderCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport BookingModal from './BookingModal';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProviderCard = ({\n  service\n}) => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        const res = await axios.get(`/api/reviews/${service.provider_id}`);\n        setReviews(res.data);\n      } catch (err) {\n        setError('Failed to load reviews');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchReviews();\n  }, [service.provider_id]);\n  const avgRating = reviews.length ? (reviews.reduce((a, r) => a + r.rating, 0) / reviews.length).toFixed(1) : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow p-4 flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/assets/provider1.jpg\",\n      alt: \"Provider\",\n      className: \"w-16 h-16 rounded-full mb-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"font-semibold text-lg\",\n      children: service.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-blue-600\",\n      children: [\"Ksh. \", service.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-600 mb-2\",\n      children: service.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-400 text-sm mb-2 animate-pulse\",\n      children: \"Loading reviews...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-400 text-sm mb-2\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2 text-yellow-500 flex items-center gap-1\",\n      children: avgRating ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold\",\n          children: avgRating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2605\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: [\"(\", reviews.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-400\",\n        children: \"No reviews yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), reviews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full text-left text-xs text-gray-500 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-semibold text-gray-700\",\n        children: \"Recent reviews:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), reviews.slice(0, 2).map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-1\",\n        children: [\"\\\"\", r.comment, \"\\\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-yellow-400\",\n          children: '★'.repeat(r.rating)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 60\n        }, this)]\n      }, r.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setOpen(true),\n      className: \"bg-blue-700 text-white px-4 py-1 rounded hover:bg-blue-800 transition\",\n      children: \"Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(BookingModal, {\n      service: service,\n      onClose: () => setOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(ProviderCard, \"sDr+GTpp5hkY1K4rwkfvOAiiN3E=\");\n_c = ProviderCard;\nexport default ProviderCard;\nvar _c;\n$RefreshReg$(_c, \"ProviderCard\");","map":{"version":3,"names":["React","useState","useEffect","BookingModal","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","ProviderCard","service","_s","open","setOpen","reviews","setReviews","loading","setLoading","error","setError","fetchReviews","res","get","provider_id","data","err","avgRating","length","reduce","a","r","rating","toFixed","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","name","price","description","slice","map","comment","repeat","id","onClick","onClose","_c","$RefreshReg$"],"sources":["/home/user/PROJECTS/Landry Hub/homa-bay-laundry-hub/client/src/components/ProviderCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport BookingModal from './BookingModal';\nimport axios from 'axios';\n\nconst ProviderCard = ({ service }) => {\n  const [open, setOpen] = useState(false);\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        const res = await axios.get(`/api/reviews/${service.provider_id}`);\n        setReviews(res.data);\n      } catch (err) {\n        setError('Failed to load reviews');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchReviews();\n  }, [service.provider_id]);\n\n  const avgRating = reviews.length ? (reviews.reduce((a, r) => a + r.rating, 0) / reviews.length).toFixed(1) : null;\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-4 flex flex-col items-center\">\n      <img src=\"/assets/provider1.jpg\" alt=\"Provider\" className=\"w-16 h-16 rounded-full mb-2\" />\n      <div className=\"font-semibold text-lg\">{service.name}</div>\n      <div className=\"text-blue-600\">Ksh. {service.price}</div>\n      <div className=\"text-gray-600 mb-2\">{service.description}</div>\n      {loading ? (\n        <div className=\"text-gray-400 text-sm mb-2 animate-pulse\">Loading reviews...</div>\n      ) : error ? (\n        <div className=\"text-red-400 text-sm mb-2\">{error}</div>\n      ) : (\n        <div className=\"mb-2 text-yellow-500 flex items-center gap-1\">\n          {avgRating ? (\n            <>\n              <span className=\"font-bold\">{avgRating}</span>\n              <span>★</span>\n              <span className=\"text-gray-500\">({reviews.length})</span>\n            </>\n          ) : (\n            <span className=\"text-gray-400\">No reviews yet</span>\n          )}\n        </div>\n      )}\n      {reviews.length > 0 && (\n        <div className=\"w-full text-left text-xs text-gray-500 mb-2\">\n          <div className=\"font-semibold text-gray-700\">Recent reviews:</div>\n          {reviews.slice(0,2).map(r => (\n            <div key={r.id} className=\"mb-1\">\"{r.comment}\" <span className=\"text-yellow-400\">{'★'.repeat(r.rating)}</span></div>\n          ))}\n        </div>\n      )}\n      <button onClick={() => setOpen(true)} className=\"bg-blue-700 text-white px-4 py-1 rounded hover:bg-blue-800 transition\">Book</button>\n      {open && <BookingModal service={service} onClose={() => setOpen(false)} />}\n    </div>\n  );\n};\n\nexport default ProviderCard; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACd,MAAMkB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,gBAAgBZ,OAAO,CAACa,WAAW,EAAE,CAAC;QAClER,UAAU,CAACM,GAAG,CAACG,IAAI,CAAC;MACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZN,QAAQ,CAAC,wBAAwB,CAAC;MACpC,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IACDG,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACV,OAAO,CAACa,WAAW,CAAC,CAAC;EAEzB,MAAMG,SAAS,GAAGZ,OAAO,CAACa,MAAM,GAAG,CAACb,OAAO,CAACc,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAACC,MAAM,EAAE,CAAC,CAAC,GAAGjB,OAAO,CAACa,MAAM,EAAEK,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI;EAEjH,oBACE1B,OAAA;IAAK2B,SAAS,EAAC,2DAA2D;IAAAC,QAAA,gBACxE5B,OAAA;MAAK6B,GAAG,EAAC,uBAAuB;MAACC,GAAG,EAAC,UAAU;MAACH,SAAS,EAAC;IAA6B;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC1FlC,OAAA;MAAK2B,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EAAExB,OAAO,CAAC+B;IAAI;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC3DlC,OAAA;MAAK2B,SAAS,EAAC,eAAe;MAAAC,QAAA,GAAC,OAAK,EAACxB,OAAO,CAACgC,KAAK;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACzDlC,OAAA;MAAK2B,SAAS,EAAC,oBAAoB;MAAAC,QAAA,EAAExB,OAAO,CAACiC;IAAW;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAC9DxB,OAAO,gBACNV,OAAA;MAAK2B,SAAS,EAAC,0CAA0C;MAAAC,QAAA,EAAC;IAAkB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,GAChFtB,KAAK,gBACPZ,OAAA;MAAK2B,SAAS,EAAC,2BAA2B;MAAAC,QAAA,EAAEhB;IAAK;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,gBAExDlC,OAAA;MAAK2B,SAAS,EAAC,8CAA8C;MAAAC,QAAA,EAC1DR,SAAS,gBACRpB,OAAA,CAAAE,SAAA;QAAA0B,QAAA,gBACE5B,OAAA;UAAM2B,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAER;QAAS;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC9ClC,OAAA;UAAA4B,QAAA,EAAM;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACdlC,OAAA;UAAM2B,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAC,GAAC,EAACpB,OAAO,CAACa,MAAM,EAAC,GAAC;QAAA;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,eACzD,CAAC,gBAEHlC,OAAA;QAAM2B,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAC;MAAc;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IACrD;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,EACA1B,OAAO,CAACa,MAAM,GAAG,CAAC,iBACjBrB,OAAA;MAAK2B,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBAC1D5B,OAAA;QAAK2B,SAAS,EAAC,6BAA6B;QAAAC,QAAA,EAAC;MAAe;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EACjE1B,OAAO,CAAC8B,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAACC,GAAG,CAACf,CAAC,iBACvBxB,OAAA;QAAgB2B,SAAS,EAAC,MAAM;QAAAC,QAAA,GAAC,IAAC,EAACJ,CAAC,CAACgB,OAAO,EAAC,KAAE,eAAAxC,OAAA;UAAM2B,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAE,GAAG,CAACa,MAAM,CAACjB,CAAC,CAACC,MAAM;QAAC;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA,GAApGV,CAAC,CAACkB,EAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAqG,CACpH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,eACDlC,OAAA;MAAQ2C,OAAO,EAAEA,CAAA,KAAMpC,OAAO,CAAC,IAAI,CAAE;MAACoB,SAAS,EAAC,uEAAuE;MAAAC,QAAA,EAAC;IAAI;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EACpI5B,IAAI,iBAAIN,OAAA,CAACH,YAAY;MAACO,OAAO,EAAEA,OAAQ;MAACwC,OAAO,EAAEA,CAAA,KAAMrC,OAAO,CAAC,KAAK;IAAE;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvE,CAAC;AAEV,CAAC;AAAC7B,EAAA,CAzDIF,YAAY;AAAA0C,EAAA,GAAZ1C,YAAY;AA2DlB,eAAeA,YAAY;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}